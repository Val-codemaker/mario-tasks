@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --mario-sky: #5C94FC;
  --mario-ground: #E45C10;
  --mario-grass: #00A800;
  --mario-pipe: #00A800;
  --mario-pipe-dark: #007000;
  --mario-pipe-light: #80F800;
  --panel-bg: #FFFFFF;
  --panel-border: #000000;
  --panel-shadow: #B8B8B8;
}

@layer base {
  body {
    font-family: 'Press Start 2P', system-ui;
    image-rendering: pixelated;
    @apply bg-mario-sky overflow-x-hidden text-black;
  }
}

@layer components {

  /* --- PROFESSIONAL RETRO PANELS --- */
  .pro-panel {
    @apply relative bg-white border-[4px] border-black p-6;
    box-shadow:
      inset -6px -6px 0px 0px #e0e0e0,
      inset 6px 6px 0px 0px #ffffff,
      8px 8px 0px 0px rgba(0, 0, 0, 0.15);
  }

  .pro-panel-dark {
    @apply relative bg-[#303030] border-[4px] border-black p-6 text-white;
    box-shadow:
      inset -6px -6px 0px 0px #101010,
      inset 6px 6px 0px 0px #505050,
      8px 8px 0px 0px rgba(0, 0, 0, 0.4);
  }

  /* --- QUESTION BLOCK (MISSION ITEM) --- */
  .mission-block {
    @apply relative p-6 bg-[#F8B800] border-[4px] border-black transition-all cursor-pointer mb-4;
    box-shadow:
      inset -4px -4px 0px 0px #B87800,
      inset 4px 4px 0px 0px #F8F800,
      6px 6px 0px 0px rgba(0, 0, 0, 0.1);
  }

  .mission-block:hover {
    @apply -translate-y-1;
    box-shadow:
      inset -4px -4px 0px 0px #B87800,
      inset 4px 4px 0px 0px #F8F800,
      6px 10px 0px 0px rgba(0, 0, 0, 0.1);
  }

  .mission-block:active {
    @apply translate-y-1 translate-x-1;
    box-shadow:
      inset -4px -4px 0px 0px #B87800,
      inset 4px 4px 0px 0px #F8F800,
      0px 0px 0px 0px rgba(0, 0, 0, 0);
  }

  .mission-block.completed {
    @apply bg-[#909090] border-[#404040] opacity-70;
    box-shadow:
      inset -4px -4px 0px 0px #505050,
      inset 4px 4px 0px 0px #b0b0b0;
  }

  /* --- PRO BUTTONS --- */
  .pro-button {
    @apply relative px-6 py-3 uppercase text-[10px] tracking-widest text-white transition-all cursor-pointer;
    background: #e45c10;
    border: 4px solid #000;
    box-shadow:
      inset -4px -4px 0px 0px #8c3000,
      inset 4px 4px 0px 0px #ff8c40,
      0px 6px 0px 0px #000;
  }

  .pro-button:active {
    @apply translate-y-1;
    box-shadow:
      inset -4px -4px 0px 0px #8c3000,
      inset 4px 4px 0px 0px #ff8c40,
      0px 2px 0px 0px #000;
  }

  .pro-button-secondary {
    @apply pro-button;
    background: #5C94FC;
    box-shadow:
      inset -4px -4px 0px 0px #3050C0,
      inset 4px 4px 0px 0px #80B0FF,
      0px 6px 0px 0px #000;
  }

  /* --- AUTHENTIC PIPES --- */
  .pipe-item {
    @apply relative cursor-pointer transition-all flex flex-col items-center;
  }

  .pipe-head {
    @apply w-20 h-10 border-[4px] border-black relative;
    background: linear-gradient(to right, #007000 0%, #00A800 20%, #80F800 50%, #00A800 80%, #007000 100%);
  }

  .pipe-body {
    @apply w-16 h-28 border-x-[4px] border-black;
    background: linear-gradient(to right, #007000 0%, #00A800 20%, #80F800 50%, #00A800 80%, #007000 100%);
  }

  .pipe-active .pipe-head {
    @apply ring-4 ring-yellow-400;
    filter: brightness(1.2) drop-shadow(0 0 15px rgba(255, 230, 0, 0.6));
  }

  /* --- UTILITIES --- */
  .pixel-text-shadow {
    text-shadow: 3px 3px 0px #000;
  }

  .pixelated {
    image-rendering: pixelated;
  }
}

/* --- ANIMATIONS --- */
@keyframes coin-bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-15px);
  }
}

.animate-coin {
  animation: coin-bounce 0.8s ease-in-out infinite;
}

@keyframes cloud-float {
  from {
    transform: translateX(110vw);
  }

  to {
    transform: translateX(-20vw);
  }
}

.cloud {
  animation: cloud-float 80s linear infinite;
}

.hit-shake {
  animation: shake 0.2s cubic-bezier(.36, .07, .19, .97) both;
}

@keyframes shake {

  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }

  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }

  30%,
  50%,
  70% {
    transform: translate3d(-4px, 0, 0);
  }

  40%,
  60% {
    transform: translate3d(4px, 0, 0);
  }
}